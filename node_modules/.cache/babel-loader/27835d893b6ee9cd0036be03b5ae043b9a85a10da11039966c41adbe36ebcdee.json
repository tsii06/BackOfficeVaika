{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Tsiory\\\\Documents\\\\BackOffice\\\\Back_Front (2)\\\\Back_Front\\\\backfront\\\\src\\\\annonce\\\\Annonce.tsx\",\n  _s = $RefreshSig$();\nimport { Navy } from \"../nav/Navy\";\nimport { CompAnnonce } from \"./CompAnnonce\";\nimport axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport { Link, useParams, useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Annonce = () => {\n  _s();\n  let navigate = useNavigate();\n  const [cats, setCats] = useState([]);\n  useEffect(() => {\n    loadCat();\n  }, []);\n  const loadCat = async () => {\n    try {\n      const jwtToken = localStorage.getItem('jwtToken');\n      if (!jwtToken) {\n        console.error('Jetons JWT non trouvés');\n        // Vous pouvez gérer la redirection vers la page de connexion ici\n        return;\n      }\n      const config = {\n        headers: {\n          Authorization: `Bearer ${jwtToken}`\n        }\n      };\n      const result = await axios.get(\"https://vaika-production.up.railway.app/annonces\", config);\n      setCats(result.data);\n    } catch (error) {\n      console.error(\"Erreur lors du chargement des catégories :\", error);\n    }\n  };\n  const {\n    id\n  } = useParams();\n  const deleteCat = async idCategorie => {\n    const jwtToken = localStorage.getItem('jwtToken');\n    if (!jwtToken) {\n      console.error('Jetons JWT non trouvés');\n      // Vous pouvez gérer la redirection vers la page de connexion ici\n      return;\n    }\n    const config = {\n      headers: {\n        Authorization: `Bearer ${jwtToken}`\n      }\n    };\n    await axios.delete(`https://vaika-production.up.railway.app/annonce/${idCategorie}`, config);\n    loadCat();\n    navigate('/listeM');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [cats.map(cat => /*#__PURE__*/_jsxDEV(\"tr\", {\n      children: [/*#__PURE__*/_jsxDEV(\"th\", {\n        scope: \"row\",\n        children: cat.idAnnonce\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: cat.dateAnnonce\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          className: \"btn btn-outline-primary mx-2\",\n          to: `/editMarque/${cat.idAnnonce}`,\n          children: \"Edit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 19\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          className: \"btn btn-outline-danger mx-2\",\n          to: `/deleteCat/${cat.idAnnonce}`,\n          onClick: () => deleteCat(cat.idAnnonce),\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 19\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 15\n      }, this)]\n    }, cat.idAnnonce, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 11\n    }, this)), /*#__PURE__*/_jsxDEV(Navy, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this), cats.map(cat => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"item mt-5\",\n        children: /*#__PURE__*/_jsxDEV(CompAnnonce, {\n          titre: cat.dateAnnonce,\n          detail: cat.description,\n          utilisateur: cat.utilisateur,\n          imageSource: '/bm.jpg'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"item mt-5\",\n        children: /*#__PURE__*/_jsxDEV(CompAnnonce, {\n          titre: cat.dateAnnonce,\n          detail: cat.description,\n          utilisateur: cat.utilisateur,\n          imageSource: '/bm1.jpg'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"item mt-5\",\n        children: /*#__PURE__*/_jsxDEV(CompAnnonce, {\n          titre: cat.dateAnnonce,\n          detail: cat.description,\n          utilisateur: cat.utilisateur,\n          imageSource: '/bm1.jpg'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 1\n  }, this);\n};\n_s(Annonce, \"fGqT+doDbsiZk2nUpocna8DOHJM=\", false, function () {\n  return [useNavigate, useParams];\n});\n_c = Annonce;\nvar _c;\n$RefreshReg$(_c, \"Annonce\");","map":{"version":3,"names":["Navy","CompAnnonce","axios","React","useEffect","useState","Link","useParams","useNavigate","jsxDEV","_jsxDEV","Annonce","_s","navigate","cats","setCats","loadCat","jwtToken","localStorage","getItem","console","error","config","headers","Authorization","result","get","data","id","deleteCat","idCategorie","delete","children","map","cat","scope","idAnnonce","fileName","_jsxFileName","lineNumber","columnNumber","dateAnnonce","className","to","onClick","titre","detail","description","utilisateur","imageSource","_c","$RefreshReg$"],"sources":["C:/Users/Tsiory/Documents/BackOffice/Back_Front (2)/Back_Front/backfront/src/annonce/Annonce.tsx"],"sourcesContent":["\r\nimport { Navy } from \"../nav/Navy\";\r\nimport { CompAnnonce } from \"./CompAnnonce\";\r\nimport axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Link,useParams, useNavigate } from \"react-router-dom\";\r\ntype Category = {\r\n    idAnnonce: string;\r\n    dateAnnonce: string;\r\n    utilisateur:number;\r\n    voiture:number;\r\n    statut:number;\r\n    description:string;\r\n    };\r\nexport const Annonce=()=> {\r\n   \r\n        let navigate = useNavigate() ;\r\n        const [cats,setCats] = useState<Category[]>([]);\r\n        useEffect(()=>{\r\n            loadCat();\r\n        },[]);\r\n        const loadCat = async () => {\r\n          try {\r\n            const jwtToken = localStorage.getItem('jwtToken');\r\n            if (!jwtToken) {\r\n              console.error('Jetons JWT non trouvés');\r\n              // Vous pouvez gérer la redirection vers la page de connexion ici\r\n              return;\r\n            }\r\n      \r\n            const config = {\r\n              headers: {\r\n                Authorization: `Bearer ${jwtToken}`,\r\n              },\r\n            };\r\n              const result = await axios.get(\"https://vaika-production.up.railway.app/annonces\",config);\r\n              setCats(result.data);\r\n          } catch (error) {\r\n              console.error(\"Erreur lors du chargement des catégories :\", error);\r\n          }\r\n      };\r\n      const { id} = useParams<{ id: string }>();\r\n      const deleteCat= async(idCategorie:string)=>{\r\n        const jwtToken = localStorage.getItem('jwtToken');\r\n        if (!jwtToken) {\r\n          console.error('Jetons JWT non trouvés');\r\n          // Vous pouvez gérer la redirection vers la page de connexion ici\r\n          return;\r\n        }\r\n  \r\n        const config = {\r\n          headers: {\r\n            Authorization: `Bearer ${jwtToken}`,\r\n          },\r\n        };\r\n        await axios.delete(`https://vaika-production.up.railway.app/annonce/${idCategorie}`,config)\r\n        loadCat();\r\n        navigate('/listeM');\r\n      }\r\n\r\nreturn(\r\n<div>\r\n{cats.map((cat) => (\r\n          <tr key={cat.idAnnonce}>\r\n              <th scope=\"row\">{cat.idAnnonce}</th>\r\n              <td>{cat.dateAnnonce}</td>\r\n              <td>\r\n                  <Link \r\n                      className='btn btn-outline-primary mx-2' \r\n                      to={`/editMarque/${cat.idAnnonce}`}\r\n                  >\r\n                      Edit\r\n                  </Link>\r\n              </td>\r\n              <td>\r\n                  <Link \r\n                      className='btn btn-outline-danger mx-2' \r\n                      to={`/deleteCat/${cat.idAnnonce}`}\r\n                      onClick={()=>deleteCat(cat.idAnnonce)}\r\n                  >\r\n                  Delete\r\n                  </Link>\r\n              </td>\r\n          </tr>\r\n      ))}\r\n      <Navy/>\r\n        {cats.map((cat) => (\r\n            <div className=\"container\">\r\n                <div className=\"item mt-5\">\r\n                    <CompAnnonce titre={cat.dateAnnonce} detail={cat.description} utilisateur={cat.utilisateur}   imageSource={'/bm.jpg'} />\r\n                </div>\r\n                <div className=\"item mt-5\">\r\n                    <CompAnnonce titre={cat.dateAnnonce} detail={cat.description}   utilisateur={cat.utilisateur}  imageSource={'/bm1.jpg'} />\r\n                </div>\r\n                <div className=\"item mt-5\">\r\n                    <CompAnnonce titre={cat.dateAnnonce} detail={cat.description}  utilisateur={cat.utilisateur}  imageSource={'/bm1.jpg'} />\r\n                </div>\r\n            </div>\r\n        ))}\r\n      {/* <div className=\"container\">\r\n          <div className=\"item mt-5\">\r\n              <CompAnnonce titre=\"titre\" detail=\"details\" imageSource={'/bm.jpg'} />\r\n          </div>\r\n          <div className=\"item mt-5\">\r\n              <CompAnnonce titre=\"titre1\" detail=\"details1\" imageSource={'/bm1.jpg'} />\r\n          </div>\r\n          <div className=\"item mt-5\">\r\n              <CompAnnonce titre=\"titre2\" detail=\"details2\" imageSource={'/bm1.jpg'} />\r\n          </div>\r\n      </div> */}\r\n</div>\r\n);\r\n\r\n\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}